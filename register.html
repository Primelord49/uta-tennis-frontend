<!DOCTYPE html>
<html>
<head>
  <title>Player Registration</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="page-header">
  <h1>Uttaranchal Tennis Association</h1>
  <p>Official Tournament Registration Portal</p>
</div>

<div class="container">
  <h2>Player Registration</h2>

  <div class="form-card">

    <label>
      Full Name
      <input type="text" id="Name" placeholder="Full Name" required>
    </label>

    <label>
      WhatsApp Number
      <input type="text" id="WhatsAppNumber" placeholder="WhatsApp Number" required>
    </label>

    <label>
      Date of Birth
      <input type="date" id="DateOfBirth">
    </label>

    <label>
      City
      <input type="text" id="City" placeholder="City">
    </label>

    <label>
      Shirt Size
      <select id="ShirtSize">
        <option>S</option>
        <option>M</option>
        <option>L</option>
      </select>
    </label>

    <label>
      Short Size
      <select id="ShortSize">
        <option>S</option>
        <option>M</option>
        <option>L</option>
      </select>
    </label>

    <label>
      Food Preference
      <select id="FoodPref">
        <option>Veg</option>
        <option>Non-Veg</option>
      </select>
    </label>

    <label>
      Stay Required
      <select id="StayYorN">
        <option>Yes</option>
        <option>No</option>
      </select>
    </label>

    <label>
      Fee Status
      <select id="FeePaid">
        <option>Paid</option>
        <option>Not Paid</option>
      </select>
    </label>

    <button onclick="register()">Register</button>

    <p id="msg"></p>
  </div>
</div>

<script>
function register() {
  const data = {
    Name: document.getElementById("Name").value,
    WhatsAppNumber: document.getElementById("WhatsAppNumber").value,
    DateOfBirth: document.getElementById("DateOfBirth").value,
    City: document.getElementById("City").value,
    ShirtSize: document.getElementById("ShirtSize").value,
    ShortSize: document.getElementById("ShortSize").value,
    FoodPref: document.getElementById("FoodPref").value,
    StayYorN: document.getElementById("StayYorN").value,
    FeePaid: document.getElementById("FeePaid").value
  };

  fetch("https://uta-tennis.onrender.com/register", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  })
  .then(res => res.json())
  .then(r => {
    if (r.success) {
      document.getElementById("msg").innerText = "Registration successful";
      window.location.href = "view.html";
    } else {
      document.getElementById("msg").innerText = r.message;
    }
  });
}
</script>

</body>
</html>
